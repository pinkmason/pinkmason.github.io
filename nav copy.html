<!doctype html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/nav-styles copy.css">
  <title>pinkmason的导航</title>
  <!-- 搜索脚本 -->
  <script>
    function searchBaidu() {
      // 获取搜索框中的值
      var searchTerm = document.getElementById('searchInput').value;
      // 构建百度搜索的URL（注意：这里使用的是百度搜索的公共URL）
      var baiduSearchUrl = 'https://www.baidu.com/s?wd=' + encodeURIComponent(searchTerm);
      // 重定向到百度搜索页面
      window.open(baiduSearchUrl, '_blank');
    }
    function handleKeyPress(event) {
      if (event.key === 'Enter') {
        searchBaidu();
      }
    }
  </script>
</head>

<body>
  <!-- 导航条 -->
  <div class="navbar">
    <div class="nav-item"><a href="index.html" target="_blank">返回主页</a></div>
    <div class="nav-item"><a>常用</a></div>
    <div class="nav-item"><a>娱乐</a></div>
    <div class="nav-item"><a>工具</a></div>
    <!-- 文件浏览功能 -->
    <div style="display:none;" class="nav-item"><a href="..\..\" target="_blank">资料</a></div>
  </div>
  <!-- 搜索框 -->
  <div class="search-container">
    <form onsubmit="event.preventDefault()"><!-- 阻止表单默认的提交行为,; searchBaidu();这里面也可以加 -->
      <input type="text" id="searchInput" class="search-input" placeholder="请输入搜索关键词"
        onkeypress="handleKeyPress(event)">
      <button style="display:none;" type="button" class="search-button" onclick="searchBaidu()">搜索</button>
      <div id="searchtype" style="display: flex; justify-content: center; align-items: center; ">
        <img src="media/baidu.svg" width=70% height=70% alt="搜索引擎图标">
      </div>
    </form>
  </div>
  <!-- 搜索引擎 -->
  <div id="searchmenu" style="display: none;justify-content: space-around;">
    <div class="search-engine" data-svg="media/baidu.svg">百度</div>
    <div class="search-engine" data-svg="media/google.svg">谷歌</div>
    <div class="search-engine" data-svg="#">搜狗</div>
    <div class="search-engine" data-svg="#">B站</div>
  </div>
  <!-- 常用网站 -->
  <ul class="website active">
    <a href="https://docs.qq.com/desktop/" target="_blank">腾讯文档</a>
    <a href="http://www.github.com/" target="_blank">Github</a>
    <a href="https://fanyi.baidu.com/" target="_blank">百度翻译</a>
    <a href="https://pan.baidu.com/" target="_blank">百度网盘</a>
    <a href="https://www.bilibili.com/" target="_blank">哔哩哔哩</a>
    <a href="https://weibo.com/" target="_blank">新浪微博</a>
    <a href="https://tieba.baidu.com/home/main?id=tb.1.7cd67a64.qIZHEp8WtLF0JjYORye7mg&fr=userbar"
      target="_blank">百度贴吧</a>
    <a href="https://mp.weixin.qq.com/" target="_blank">微信公众</a>
    <a href="https://chat.baidu.com/" target="_blank">百度AI</a>
    <a href="https://mail.qq.com/" target="_blank">QQ邮箱</a>
    <a href="https://outlook.live.com/mail/0/" target="_blank">Outlook</a>
    <a href="https://www.alipay.com/" target="_blank">支付宝</a>
    <a href="https://www.thepaper.cn/morningEveningPaper" target="_blank">早晚报</a>
    <a href="https://sspai.com/tag/%E6%B4%BE%E6%97%A9%E6%8A%A5" target="_blank">派早报</a>
    <a href="https://tv.cctv.com/live/" target="_blank">CCTV</a>
    <a href="https://www.zhihu.com/follow" target="_blank">知乎</a>
    <a href="https://www.douban.com/" target="_blank">豆瓣</a>
    <a href="https://www.hupu.com/" target="_blank">虎扑</a>
    <a href="https://www.taobao.com/" target="_blank">淘宝</a>
    <a href="https://www.jd.com/" target="_blank">京东</a>
  </ul>
  <!-- 娱乐网站 -->
  <ul class="website">
    <a href="https://store.steampowered.com/" target="_blank">Steam</a>
    <a href="https://js13kgames.com/" target="_blank">js13k</a>
    <a href="https://www.tennis.com/" target="_blank">Tennis</a>
  </ul>
  <!-- 工具网站 -->
  <ul class="website">
    <a href="https://www.filetypeadvisor.com/zh-cn/" target="_blank">文件格式</a>
    <a href="https://scandomain.cyayaa.com/#/" target="_blank">域名查询</a>
    <a href="http://duososo.com/index_shitu.php" target="_blank">以图搜图</a>
    <a href="https://kydsj.vip/doku.php?id=start" target="_blank">开源大世界</a>
    <a href="https://www.waytoagi.com/" target="_blank">WaytoAGI</a>
  </ul>
  <!-- 随机排列网站 -->
  <script>
    // 数组随机化
    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function randomizeElements() {
      const webs = document.querySelector('.website.active');//获取ul对象
      const items = Array.from(webs.children);
      const shuffledItems = shuffleArray(items);

      // 清除ul子项
      while (webs.firstChild) {
        webs.removeChild(webs.firstChild);
      }

      // 添加子项
      shuffledItems.forEach(item => webs.appendChild(item));
    }

    randomizeElements(); 
  </script>
  <!-- 导航栏脚本-待优化 -->
  <script>
    // 常用-点击事件
    document.getElementsByClassName('nav-item')[1].addEventListener('click', function () {
      // 获取所有的内容容器
      var webs = document.querySelectorAll('.website');
      // 遍历所有的内容容器，并隐藏它们
      webs.forEach(function (web) {
        web.classList.remove('active'); // 移除active类，隐藏内容
      });
      webs[0].classList.add('active'); // 添加active类，显示内容
      randomizeElements(); //随机网站
    });
    // 娱乐-点击事件
    document.getElementsByClassName('nav-item')[2].addEventListener('click', function () {
      // 获取所有的内容容器
      var webs = document.querySelectorAll('.website');
      // 遍历所有的内容容器，并隐藏它们
      webs.forEach(function (web) {
        web.classList.remove('active'); // 移除active类，隐藏内容
      });
      webs[1].classList.add('active'); // 添加active类，显示内容
      randomizeElements(); //随机网站
    });
    // 工具-点击事件
    document.getElementsByClassName('nav-item')[3].addEventListener('click', function () {
      // 获取所有的内容容器
      var webs = document.querySelectorAll('.website');
      // 遍历所有的内容容器，并隐藏它们
      webs.forEach(function (web) {
        web.classList.remove('active'); // 移除active类，隐藏内容
      });
      webs[2].classList.add('active'); // 添加active类，显示内容
      randomizeElements(); //随机网站
    }); 
  </script>
  <!-- 搜索引擎切换 -->
  <script>
    document.getElementById('searchtype').addEventListener('click', function () {
      var sm = document.getElementById('searchmenu');
      sm.style.display = "flex";
    });
    document.querySelectorAll('.search-engine').forEach(function (se) {
      se.addEventListener('click', function () {
        // this调用
        var sm = document.getElementById('searchmenu');
        sm.style.display = "none";
      })
    })
  </script>
</body>